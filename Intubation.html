<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intubation</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <nav>
        <ul>
            <li><a href="index.html#home">Home</a></li>
        </ul>
    </nav>
    
  <div class="container">
    <div class="form-section">
        <h2>Procedure Note: Intubation</h2>
        
            <!-- Intubation Time section -->
            <h3>Intubation Time</h3>
            <button onclick="handleIntubationTimeNow()">Now</button>
            <textarea id="intubationTimeText" placeholder="Document intubation time here" onchange="updateRealTimeText('Intubation Time', 'intubationTimeText')"></textarea>
            
            <div class="input-group">
            <h3>Timeout</h3>
            <button data-section="timeout" onclick="handleButtonClick(this, 'A formal timeout was deferred given the emergent nature of the intubation')">emergent</button>
            <button data-section="timeout" onclick="handleButtonClick(this, 'pre-procedure time out was performed and standard protocol/checklist was utilized as permitted by time/acuity')">protocol/checklist</button>
            <textarea id="timeoutText" placeholder="" onchange="updateRealTimeText('Timeout', 'timeoutText')"></textarea>

            <h3>Indication</h3>
            <button data-section="indication" onclick="handleButtonClick(this, 'airway protection')">airway protection</button>
            <button data-section="indication" onclick="handleButtonClick(this, 'respiratory failure')">resp failure</button>
            <textarea id="indicationText" placeholder="" onchange="updateRealTimeText('Indication', 'indicationText')"></textarea>
            
            <h3>Consent</h3>
            <button data-section="consent" onclick="handleButtonClick(this, 'potential benefits and harm as well as alternatives were explained to patient/family. Patient/family was given the opportunity to ask questions and patient agrees to proceed with planned procedure')">verbal</button>
            <button data-section="consent" onclick="handleButtonClick(this, 'due to the emergent nature of the procedure, consent not obtained')">emergent</button>
            <button data-section="consent" onclick="handleButtonClick(this, 'patient gave informed consent: risks/benefits/alternatives discussed')">patient</button>
            <button data-section="consent" onclick="handleButtonClick(this, 'family gave informed consent: risks/benefits/alternatives discussed')">family</button>
            <textarea id="consentText" placeholder="" onchange="updateRealTimeText('Consent', 'consentText')"></textarea>
            
            <h3>Assessment</h3>
            <button data-section="assessment" onclick="handleButtonClick(this, 'the patient\'s last oral intake was noted')">last oral intake noted</button>
            <button data-section="assessment" onclick="handleButtonClick(this, 'Mallampati 1')">Mallampati 1</button>
            <button data-section="assessment" onclick="handleButtonClick(this, 'Mallampati 2')">Mallampati 2</button>
            <button data-section="assessment" onclick="handleButtonClick(this, 'Mallampati 3')">Mallampati 3</button>
            <button data-section="assessment" onclick="handleButtonClick(this, 'Mallampati 4')">Mallampati 4</button>
            <button data-section="assessment" onclick="handleButtonClick(this, 'discussed and documented prior history of anesthetic complications')">prior anesthesia history</button>
            <textarea id="assessmentText" placeholder="" onchange="updateRealTimeText('Assessment', 'assessmentText')"></textarea>
            
            <h3>Preparation</h3>
            <button data-section="preparation" onclick="handleButtonClick(this, 'patient was placed in appropriate positioning and was placed on the monitor with pulse oximetry and end-tidal CO2')">position/monitor</button>
            <button data-section="preparation" onclick="handleButtonClick(this, 'all equipment was verified including intubating equipment, suction, BMV, and adjunct equipment')">equipment</button>
            <textarea id="preparationText" placeholder="" onchange="updateRealTimeText('Preparation', 'preparationText')"></textarea>

            
            <h3>Medications</h3>
            <button data-section="medications" onclick="handleButtonClick(this, 'ketamine was used for sedation')">ketamine</button>
            <button data-section="medications" onclick="handleButtonClick(this, 'etomidate was used for sedation')">etomidate</button>
            <button data-section="medications" onclick="handleButtonClick(this, 'propofol was used for sedation')">propofol (pre)</button>
            <button data-section="medications" onclick="handleButtonClick(this, 'succinycholine was used for paralytic')">succinylcholine</button>
            <button data-section="medications" onclick="handleButtonClick(this, 'rocuronium was used for paralytic')">rocuronium</button>
            <button data-section="medications" onclick="handleButtonClick(this, 'propofol was used for post-intubation sedation')">propofol (post)</button>
            <button data-section="medications" onclick="handleButtonClick(this, 'fentanyl was used for post-intubation analgesia')">fentanyl (post)</button>
            <textarea id="medicationsText" placeholder="" onchange="updateRealTimeText('Medications', 'medicationsText')"></textarea>
            
            <h3>Technique</h3>
            <button data-section="technique" onclick="handleButtonClick(this, 'video laryngoscopy was performed with a hyperangulated blade')">video laryngoscopy</button>
            <button data-section="technique" onclick="handleButtonClick(this, 'direct laryngoscopy was performed with a geometric blade')">direct laryngoscopy</button>
            <button data-section="technique" onclick="handleButtonClick(this, 'a bougie was used as a tracheal introducer with the ETT passed over the bougie.')">bougie</button>
            <button data-section="technique" onclick="handleButtonClick(this, 'a 7.0 Fr ETT was used')">7.0 Fr ETT</button>
            <button data-section="technique" onclick="handleButtonClick(this, 'a 7.5 Fr ETT was used')">7.5 Fr ETT</button>
            <button data-section="technique" onclick="handleButtonClick(this, 'an 8.0 Fr ETT was used')">8.0 Fr ETT</button>
            <textarea id="techniqueText" placeholder="" onchange="updateRealTimeText('Technique', 'techniqueText')"></textarea>
            
            <h3>Confirmation of Tube</h3>
            <!-- CHANGED: removed inline light-blue style; added class="blue-toggle" -->
            <button data-section="confirmation"
                    onclick="handleButtonClick(this, 'continuous waveform capnography was used to confirm placement')"
                    class="blue-toggle">
                ETCO2 waveform
            </button>

            <button data-section="confirmation" onclick="handleButtonClick(this, 'tube was directly visualized passing through the cords')">direct visualization</button>
            <button data-section="confirmation" onclick="handleButtonClick(this, 'good color change on colorimetry')">color change</button>
            <button data-section="confirmation" onclick="handleButtonClick(this, 'symmetric breath sounds were auscultated')">breath sounds</button>
            <button data-section="confirmation" onclick="handleButtonClick(this, 'a chest XRay was ordered and interpreted showing correct ETT placement')">chest Xray</button>
            <textarea id="confirmationText" placeholder="" onchange="updateRealTimeText('Confirmation', 'confirmationText')"></textarea>
            
            <h3>Complications</h3>
            <!-- CHANGED: removed inline light-blue style; added class="blue-toggle" -->
            <button data-section="complications"
                    onclick="handleButtonClick(this, 'no complications during the procedure intubation successful on first pass and O2 sats above 90% throughout procedure')">none, O2 over 90%, first pass</button>
            <button data-section="complications" onclick="handleButtonClick(this, 'there was hypoxia noted during the intubation with an O2 sat <90% which improved following intubation and oxygenation')">hypoxia, less than 90%</button>
            <button data-section="complications" onclick="handleButtonClick(this, 'the patient experienced hypotension during or following the intubation with a SBP<90')">hypotension, SBP less than 90</button>
            <button data-section="complications" onclick="handleButtonClick(this, 'no hypotension was noted following the intubation')">no hypotension</button>
            <button data-section="complications" onclick="handleButtonClick(this, 'multiple attempts were required for intubation')">multiple attempts</button>
            <textarea id="complicationsText" placeholder="" onchange="updateRealTimeText('Complications', 'complicationsText')"></textarea>
            
            <h3>Provider</h3>
            <textarea id="providerText" placeholder="" onchange="updateRealTimeText('Provider', 'providerText')"></textarea>
        </div>
    </div>

 <div class="output-section">
        <div id="outputArea"></div>
        <button onclick="copyToClipboard()">Copy to Clipboard</button>
        <button onclick="clearOutput()">Clear</button>
        
        <!-- Macro Buttons Section -->
        <div class="macro-section">
            <h3>Macros</h3>
            <button onclick="triggerMacro(['timeout-emergent', 'indication-resp failure', 'consent-emergent', 'preparation-position/monitor', 'preparation-equipment', 'medications-etomidate', 'medications-succinylcholine', 'technique-glidescope', 'technique-7.5 Fr ETT', 'confirmation-ETCO2 waveform', 'confirmation-chest Xray', 'confirmation-direct visualization', 'confirmation-breath sounds', 'complications-none, first pass'], this)">Video 7.5</button>
            <!-- Add more macros as needed -->
        </div>


    </div>
</div>

     <footer>
    </footer>

<script src="intubationscript.js"></script>
</body>
</html>
